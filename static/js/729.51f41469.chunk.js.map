{"version":3,"file":"static/js/729.51f41469.chunk.js","mappings":"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","sources":["pages/MovieDetails/MovieDetailsPage.styled.js","components/LinkButton/LinkButton.styled.js","pages/MovieDetails/MovieDetailsPage.jsx","service/api.js"],"sourcesContent":["import styled from 'styled-components';\n\nexport const StyledMovieDetailsContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n  margin-top: 40px;\n  margin-bottom: 40px;\n\n  @media screen and (min-width: 768px) {\n    flex-direction: row;\n  }\n\n  .movie__poster {\n    width: 100%;\n    height: 100%;\n    border-radius: ${props => props.theme.radii.medium};\n\n    @media screen and (min-width: 768px) {\n      width: 250px;\n    }\n\n    @media screen and (min-width: 1280px) {\n      width: 300px;\n    }\n  }\n\n  .movie__content {\n    display: flex;\n    flex-direction: column;\n    gap: 10px;\n  }\n\n  & .movie__title-wrapper {\n    display: flex;\n    align-items: start;\n    justify-content: space-between;\n    gap: 20px;\n  }\n\n  & .movie__rating {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: ${props => props.theme.colors.accentSecondary};\n    //color: #000;\n    border: ${props => props.theme.borders.normal}\n      ${props => props.theme.colors.accentSecondary};\n    border-radius: ${props => props.theme.radii.medium};\n    padding: 6px 12px;\n    font-weight: ${props => props.theme.fontWeights.medium};\n    box-shadow: 0 2px 6px rgb(0 0 0 / 10%);\n  }\n\n  & .movie__adult {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border: ${props => props.theme.borders.normal} red;\n    color: red;\n    border-radius: ${props => props.theme.radii.medium};\n    padding: 6px 10px;\n    font-weight: ${props => props.theme.fontWeights.medium};\n    box-shadow: 0 2px 6px rgb(0 0 0 / 10%);\n  }\n`;\n","import styled from 'styled-components';\nimport { NavLink } from 'react-router-dom';\n\nexport const LinkButton = styled(NavLink)`\n  padding: 10px;\n  color: ${props => props.theme.colors.accentPrimary};\n  border: ${props => props.theme.borders.normal}\n    ${props => props.theme.colors.accentPrimary};\n  border-radius: ${props => props.theme.radii.medium};\n  transition: background-color ${props => props.theme.transition};\n\n  &:hover,\n  &:focus-visible {\n    background-color: ${props => props.theme.colors.accentPrimary};\n  }\n`;\n","import { useEffect, useState } from 'react';\nimport { Outlet, useLocation, useParams } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\n\nimport { getMovieDetails } from 'service/api';\nimport { Loader } from 'components/index';\n\nimport { StyledMovieDetailsContainer } from './MovieDetailsPage.styled';\nimport { StyledSection } from 'components/Section/Section.styled';\nimport { StyledContainer } from 'components/Container/Container.styled';\nimport { LinkButton } from 'components/LinkButton/LinkButton.styled';\n\nconst MovieDetailsPage = () => {\n  const { t } = useTranslation();\n  const { movieId } = useParams();\n  const location = useLocation();\n\n  const [movieDetails, setMovieDetails] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    if (!movieId) return;\n\n    (async function () {\n      try {\n        setIsLoading(true);\n\n        const movieDetails = await getMovieDetails(movieId);\n\n        setMovieDetails(movieDetails);\n      } catch (error) {\n        setError(error.message);\n      } finally {\n        setIsLoading(false);\n      }\n    })();\n  }, [movieId]);\n\n  useEffect(() => {\n    if (error) {\n      alert(error);\n    }\n  }, [error]);\n\n  const isCastVisible = location.pathname.includes('cast');\n  const isReviewsVisible = location.pathname.includes('reviews');\n\n  const {\n    poster_path,\n    title,\n    tagline,\n    adult,\n    release_date,\n    vote_average,\n    overview,\n    genres,\n    production_countries,\n  } = movieDetails;\n\n  return (\n    <>\n      {isLoading && <Loader />}\n\n      <StyledSection style={{ paddingBottom: '0' }}>\n        <StyledContainer>\n          <LinkButton\n            to={location.state?.from ?? '/'}\n            state={{ currentPage: location.state?.currentPage }}\n          >\n            {t('goBackBtn')}\n          </LinkButton>\n\n          <StyledMovieDetailsContainer>\n            <img\n              className=\"movie__poster\"\n              alt={`${title} poster`}\n              src={poster_path}\n              loading=\"lazy\"\n            />\n            <div className=\"movie__content\">\n              <div className=\"movie__title-wrapper\">\n                <h1>{title}</h1>\n                {vote_average && (\n                  <div className=\"movie__rating\">{vote_average}</div>\n                )}\n                {adult && <div className=\"movie__adult\">18+</div>}\n              </div>\n              {tagline && <i>{tagline}</i>}\n              {release_date && (\n                <p>\n                  <b>{t('movieDetailsPageYear')}:</b>{' '}\n                  <span>{release_date}</span>\n                </p>\n              )}\n              {genres && (\n                <p>\n                  <b>{t('movieDetailsPageGenres')}:</b> <span>{genres}</span>\n                </p>\n              )}\n              {production_countries && (\n                <p>\n                  <b>{t('movieDetailsPageCountries')}:</b>{' '}\n                  <span>{production_countries}</span>\n                </p>\n              )}\n              {overview && (\n                <p>\n                  <b>{t('movieDetailsPageOverview')}:</b>{' '}\n                  <span>{overview}</span>\n                </p>\n              )}\n            </div>\n          </StyledMovieDetailsContainer>\n\n          <nav\n            style={{ display: 'flex', justifyContent: 'center', gap: '20px' }}\n          >\n            <LinkButton\n              state={{\n                from: location.state?.from ?? '/',\n                currentPage: location.state?.currentPage,\n              }}\n              to={isCastVisible ? '' : 'cast'}\n            >\n              {isCastVisible\n                ? `${t('movieDetailsPageHideCast')}`\n                : `${t('movieDetailsPageShowCast')}`}\n            </LinkButton>\n\n            <LinkButton\n              state={{\n                from: location.state?.from ?? '/',\n                currentPage: location.state?.currentPage,\n              }}\n              to={isReviewsVisible ? '' : 'reviews'}\n            >\n              {isReviewsVisible\n                ? `${t('movieDetailsPageHideReviews')}`\n                : `${t('movieDetailsPageShowReviews')}`}\n            </LinkButton>\n          </nav>\n        </StyledContainer>\n      </StyledSection>\n\n      <StyledSection>\n        <StyledContainer>\n          <Outlet />\n        </StyledContainer>\n      </StyledSection>\n    </>\n  );\n};\n\nexport default MovieDetailsPage;\n","import axios from 'axios';\nimport defaultImg from 'images/no-img.jpg';\n\nconst { REACT_APP_API_KEY, REACT_APP_BASE_URL, REACT_APP_BASE_URL_IMAGE } =\n  process.env;\n\nconsole.log(\n  '1',\n  REACT_APP_API_KEY,\n  '2',\n  REACT_APP_BASE_URL,\n  '3',\n  REACT_APP_BASE_URL_IMAGE\n);\n\nconst API_KEY = REACT_APP_API_KEY;\nconst BASE_URL_IMAGE = REACT_APP_BASE_URL_IMAGE;\naxios.defaults.baseURL = REACT_APP_BASE_URL;\n\nconst getTrending = async currentPage => {\n  const params = {\n    api_key: API_KEY,\n    page: currentPage,\n  };\n\n  const { data } = await axios.get('/trending/movie/day', {\n    params,\n  });\n\n  const results = data.results.map(({ id, title, poster_path }) => ({\n    id,\n    title,\n    poster_path: getImagePath(poster_path),\n  }));\n\n  data.results = results;\n  if (data.total_pages > 500) data.total_pages = 500;\n\n  return data;\n};\n\nconst searchMoviesByQuery = async ({ query, currentPage }) => {\n  const params = {\n    api_key: API_KEY,\n    query,\n    page: currentPage,\n  };\n\n  const { data } = await axios.get('/search/movie', { params });\n\n  const results = data.results.map(({ id, title, poster_path }) => ({\n    id,\n    title,\n    poster_path: getImagePath(poster_path),\n  }));\n\n  data.results = results;\n  if (data.total_pages > 500) data.total_pages = 500;\n\n  return data;\n};\n\nconst getMovieDetails = async movieId => {\n  const params = {\n    api_key: API_KEY,\n  };\n\n  const { data } = await axios.get(`/movie/${movieId}`, {\n    params,\n  });\n\n  const {\n    poster_path,\n    title,\n    tagline,\n    adult,\n    release_date,\n    vote_average,\n    overview,\n    genres,\n    production_countries,\n  } = data;\n\n  return {\n    poster_path: getImagePath(poster_path),\n    title,\n    tagline,\n    adult,\n    release_date: new Date(release_date).getFullYear(),\n    vote_average: vote_average.toFixed(1),\n    overview,\n    genres: genres.map(genre => genre.name).join(', '),\n    production_countries: production_countries\n      .map(country => country.name)\n      .join(', '),\n  };\n};\n\nconst getMovieCredits = async movieId => {\n  const params = {\n    api_key: API_KEY,\n  };\n\n  const { data } = await axios.get(`/movie/${movieId}/credits`, { params });\n\n  const cast = data.cast.map(({ profile_path, character, name }) => ({\n    profile_path: getImagePath(profile_path),\n    character,\n    name,\n  }));\n\n  return cast;\n};\n\nconst getMovieReviews = async movieId => {\n  const params = {\n    api_key: API_KEY,\n  };\n\n  const { data } = await axios.get(`/movie/${movieId}/reviews`, { params });\n\n  const reviews = data.results.map(({ author, content }) => ({\n    author,\n    content,\n  }));\n\n  return reviews;\n};\n\nconst getImagePath = file_path => {\n  return file_path ? `${BASE_URL_IMAGE}${file_path}` : defaultImg;\n};\n\nexport {\n  getTrending,\n  searchMoviesByQuery,\n  getMovieDetails,\n  getMovieCredits,\n  getMovieReviews,\n};\n"],"names":["StyledMovieDetailsContainer","styled","props","theme","radii","medium","colors","accentSecondary","borders","normal","fontWeights","LinkButton","NavLink","accentPrimary","transition","t","useTranslation","movieId","useParams","location","useLocation","useState","movieDetails","setMovieDetails","isLoading","setIsLoading","error","setError","useEffect","getMovieDetails","message","alert","isCastVisible","pathname","includes","isReviewsVisible","poster_path","title","tagline","adult","release_date","vote_average","overview","genres","production_countries","style","paddingBottom","to","state","from","currentPage","className","alt","src","loading","display","justifyContent","gap","process","REACT_APP_API_KEY","REACT_APP_BASE_URL","REACT_APP_BASE_URL_IMAGE","console","log","API_KEY","BASE_URL_IMAGE","axios","getTrending","params","api_key","page","data","results","map","id","getImagePath","total_pages","searchMoviesByQuery","query","Date","getFullYear","toFixed","genre","name","join","country","getMovieCredits","cast","profile_path","character","getMovieReviews","reviews","author","content","file_path","defaultImg"],"sourceRoot":""}
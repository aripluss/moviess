{"version":3,"file":"static/js/693.d47d647a.chunk.js","mappings":"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","sources":["pages/Reviews/Reviews.styled.js","pages/Reviews/Reviews.jsx","service/api.js"],"sourcesContent":["import styled from 'styled-components';\n\nexport const StyledReviewsList = styled.ul`\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n\n  & .review__card {\n    padding: 20px;\n    border: ${props => props.theme.borders.normal}\n      ${props => props.theme.colors.accentSecondary};\n    border-radius: 10px;\n  }\n`;\n","import React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { toast, Toaster } from 'react-hot-toast';\nimport { useTranslation } from 'react-i18next';\n\nimport { getMovieReviews } from 'service/api';\nimport { Loader } from 'components/index';\n\nimport { StyledReviewsList } from './Reviews.styled';\n\nconst Reviews = () => {\n  const { t } = useTranslation();\n\n  const [movieReviews, setMovieReviews] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const { movieId } = useParams();\n\n  useEffect(() => {\n    (async function () {\n      try {\n        setIsLoading(true);\n\n        const movieReviews = await getMovieReviews(movieId);\n\n        setMovieReviews(movieReviews);\n      } catch (error) {\n        setError(error.message);\n      } finally {\n        setIsLoading(false);\n      }\n    })();\n  }, [movieId]);\n\n  useEffect(() => {\n    if (error) {\n      toast.error(error);\n      setError(null);\n    }\n  }, [error]);\n\n  return (\n    <>\n      {isLoading && <Loader />}\n\n      {!isLoading && !error && !movieReviews.length && (\n        <p\n          style={{\n            textAlign: 'center',\n          }}\n        >\n          {t('reviewsNoReviews')}\n        </p>\n      )}\n\n      {Boolean(movieReviews.length) && (\n        <StyledReviewsList>\n          {movieReviews.map(review => {\n            const { author, content } = review;\n            return (\n              <li key={author} className=\"review__card\">\n                <p>\n                  <b>{t('reviewsAuthor')}:</b> {author}\n                </p>\n                <p>\n                  <b>{t('reviewsContent')}:</b> {content}\n                </p>\n              </li>\n            );\n          })}\n        </StyledReviewsList>\n      )}\n\n      <Toaster />\n    </>\n  );\n};\n\nexport default Reviews;\n","import axios from 'axios';\nimport defaultImg from 'images/no-img.jpg';\n\nconst { REACT_APP_API_KEY, REACT_APP_BASE_URL, REACT_APP_BASE_URL_IMAGE } =\n  process.env;\n\nconst API_KEY = REACT_APP_API_KEY;\nconst BASE_URL = REACT_APP_BASE_URL;\nconst BASE_URL_IMAGE = REACT_APP_BASE_URL_IMAGE;\naxios.defaults.baseURL = BASE_URL;\n\nconst getTrending = async currentPage => {\n  const params = {\n    api_key: API_KEY,\n    page: currentPage,\n  };\n\n  const { data } = await axios.get('/trending/movie/day', {\n    params,\n  });\n\n  const results = data.results.map(({ id, title, poster_path }) => ({\n    id,\n    title,\n    poster_path: getImagePath(poster_path),\n  }));\n\n  data.results = results;\n  if (data.total_pages > 500) data.total_pages = 500;\n\n  return data;\n};\n\nconst searchMoviesByQuery = async ({ query, currentPage }) => {\n  const params = {\n    api_key: API_KEY,\n    query,\n    page: currentPage,\n  };\n\n  const { data } = await axios.get('/search/movie', { params });\n\n  const results = data.results.map(({ id, title, poster_path }) => ({\n    id,\n    title,\n    poster_path: getImagePath(poster_path),\n  }));\n\n  data.results = results;\n  if (data.total_pages > 500) data.total_pages = 500;\n\n  return data;\n};\n\nconst getMovieDetails = async movieId => {\n  const params = {\n    api_key: API_KEY,\n  };\n\n  const { data } = await axios.get(`/movie/${movieId}`, {\n    params,\n  });\n\n  const {\n    poster_path,\n    title,\n    tagline,\n    adult,\n    release_date,\n    vote_average,\n    overview,\n    genres,\n    production_countries,\n  } = data;\n\n  return {\n    poster_path: getImagePath(poster_path),\n    title,\n    tagline,\n    adult,\n    release_date: new Date(release_date).getFullYear(),\n    vote_average: vote_average.toFixed(1),\n    overview,\n    genres: genres.map(genre => genre.name).join(', '),\n    production_countries: production_countries\n      .map(country => country.name)\n      .join(', '),\n  };\n};\n\nconst getMovieCredits = async movieId => {\n  const params = {\n    api_key: API_KEY,\n  };\n\n  const { data } = await axios.get(`/movie/${movieId}/credits`, { params });\n\n  const cast = data.cast.map(({ profile_path, character, name }) => ({\n    profile_path: getImagePath(profile_path),\n    character,\n    name,\n  }));\n\n  return cast;\n};\n\nconst getMovieReviews = async movieId => {\n  const params = {\n    api_key: API_KEY,\n  };\n\n  const { data } = await axios.get(`/movie/${movieId}/reviews`, { params });\n\n  const reviews = data.results.map(({ author, content }) => ({\n    author,\n    content,\n  }));\n\n  return reviews;\n};\n\nconst getImagePath = file_path => {\n  return file_path ? `${BASE_URL_IMAGE}${file_path}` : defaultImg;\n};\n\nexport {\n  getTrending,\n  searchMoviesByQuery,\n  getMovieDetails,\n  getMovieCredits,\n  getMovieReviews,\n};\n"],"names":["StyledReviewsList","styled","props","theme","borders","normal","colors","accentSecondary","t","useTranslation","useState","movieReviews","setMovieReviews","isLoading","setIsLoading","error","setError","movieId","useParams","useEffect","getMovieReviews","message","toast","length","style","textAlign","Boolean","map","review","author","content","className","process","API_KEY","REACT_APP_API_KEY","BASE_URL","REACT_APP_BASE_URL","BASE_URL_IMAGE","REACT_APP_BASE_URL_IMAGE","axios","getTrending","currentPage","params","api_key","page","data","results","id","title","poster_path","getImagePath","total_pages","searchMoviesByQuery","query","getMovieDetails","tagline","adult","release_date","vote_average","overview","genres","production_countries","Date","getFullYear","toFixed","genre","name","join","country","getMovieCredits","cast","profile_path","character","reviews","file_path","defaultImg"],"sourceRoot":""}